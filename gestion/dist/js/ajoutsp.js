$(document).ready(function(){"use strict";$("#efface").hide()}),$("#ajoutsp").on("submit",function(a){"use strict";var e=this;if(a.preventDefault(),0!=e.checkValidity()){var t=$(this);new FormData(t[0])}e.classList.add("was-validated")}),$("#com").on("submit",function(a){"use strict";$("#mes").html("");var e=this,t=$("#nbsp").val();if(a.preventDefault(),0!=e.checkValidity())if(t>=2){$("#cdnom").removeClass("is-invalid").addClass("is-valid");var s=$(this),i=new FormData(s[0]);$.ajax({url:"modeles/ajax/taxon/ajoutcom.php",type:"POST",dataType:"json",data:i,contentType:!1,processData:!1,success:function(a){"Oui"==a.statut?($("#efface").show(),$("#mes").html('<div class="alert alert-success" role="alert">L\'insertion a été faite. cdnom du complexe : <b>'+a.cdnom+"</b></div>")):alert("Erreur ! contacter un admin")}})}else $("#cdnom").removeClass("is-valid").addClass("is-invalid");else e.classList.add("was-validated"),t>=2?$("#cdnom").removeClass("is-invalid").addClass("is-valid"):$("#cdnom").removeClass("is-valid").addClass("is-invalid")}),$("#rtax").autocomplete({source:function(a,e){$.getJSON("modeles/ajax/taxon/liste.php",{term:a.term},function(a){e($.map(a,function(a){return""==a.nomvern?{label:a.nom,value:a}:{label:a.nom+" ("+a.nomvern+")",value:a}}))})},select:function(a,e){$("#rtax").val("");var t=e.item.value.cdnom,s=$("#cdnom").val(),i=$("#choixcom").text();return""==s?($("#cdnom").val(t),$("#choixcom").html("Votre choix : "+e.item.value.nom),$("#nbsp").val(1)):($("#cdnom").val(s+","+t),$("#choixcom").html(i+" et "+e.item.value.nom),$("#nbsp").val(2)),!1}}),$("#efface").click(function(){"use strict";$("#nbsp").val(0),$("#choixcom").html(""),$("#mes").html(""),$("#cdnom").val(""),$("#nomcom").val(""),$("#observacom").val(""),$(this).hide()}),$("#voircom").click(function(){"use strict";$.ajax({url:"modeles/ajax/taxon/listecom.php",type:"POST",dataType:"json",data:{},success:function(a){"Oui"==a.statut&&$("#tblcom").html(a.liste)}})});