function aide(){"use strict";$(this).hasClass("btn btn-info")?($(this).removeClass("btn-info").addClass("btn btn-success"),$("#btn-aide-txt",this).text("Cacher"),$("#infoaide").show()):($(this).removeClass("btn-success").addClass("btn-info"),$("#btn-aide-txt",this).text("Aide"),$("#infoaide").hide())}function groupeliste(t){$("#valajax").show(),$.ajax({url:"modeles/ajax/observatoire/groupelistea.php",type:"POST",dataType:"json",data:{sel:t},success:function(t){"Oui"==t.statut?($("#valajax").hide(),$("#mes").html(""),$("#tab").html(t.liste),remplirtable(t.data)):($("#tab").html(""),$("#mes").html(t.mes),$("#valajax").hide())}})}function remplirtable(t){$("#tblliste").DataTable({language:{url:"../dist/js/datatables/france.json"},data:t,deferRender:!0,scrollY:600,scrollCollapse:!0,scroller:!0})}function modlocale(t,e){"use strict";var a=$("#choix option:selected").val();$.ajax({url:"modeles/ajax/observatoire/modlocalea.php",type:"POST",dataType:"json",data:{sel:a,cdnom:e,coche:t},success:function(t){if("Oui"==t.statut){if($("#mes").html(""),t.tabsup&&$("#"+t.tabsup).find(":checkbox").prop("checked",!0),t.tabmod){var e,a=t.tabmod;for(e=0;e<a.length;++e)$("#"+a[e]).find(":checkbox").prop("checked",!1)}}else $("#mes").html(t.mes),$("html, body").animate({scrollTop:0},"slow")}})}function suppression(t,e){"use strict";var a=$("#choix option:selected").val();$("html").css("cursor","Wait"),$.ajax({url:"modeles/ajax/observatoire/suptaxon.php",type:"POST",dataType:"json",data:{sel:a,id:t,rang:e},success:function(a){"Oui"==a.statut?($("html").css("cursor","default"),$("#mes").html(""),"FM"==e&&($("#c"+t).remove(),$("#"+t+" > ul").remove()),$("#"+t+" > li").remove()):($("#mes").html(a.mes),$("html").css("cursor","default"),$("html, body").animate({scrollTop:0},"slow"))}})}function npresent(){"use strict";var t=$("#choix option:selected").val();$("#valajax").show(),$.ajax({url:"modeles/ajax/observatoire/listenonlocale.php",type:"POST",dataType:"json",data:{sel:t},success:function(e){"Oui"==e.statut?($("#valajax").hide(),groupeliste(t)):($("#mes").html(e.mes),$("#valajax").hide())}})}$(document).ready(function(){"use strict";$("#valajax").hide(),$("#aide").on("click",aide),$("#infoaide").hide()}),$("#choix").change(function(){"use strict";var t=$("#choix option:selected").val();"NR"!=t?groupeliste(t):($("#tab").html(""),$("#mes").html(""))}),$("#souvenir").change(function(){"use strict";var t=$(this).is(":checked")?"oui":"non";$("#souvenir1").val(t)}),$("#tab").on("click",".sel",function(){"use strict";var t=$(this).parent().parent().attr("id"),e=$(this).is(":checked")?"oui":"non";modlocale(e,t)}),$("#tab").on("click",".fa-trash",function(){"use strict";var t=$(this).parent().parent().attr("id");$("#cdnom").val(t);var e=$("#souvenir1").val();"non"==e&&$("#dia1").modal("show")}),$("#bttdia1").click(function(){"use strict";$("#cdnom").val()}),$("#BttV").click(function(){"use strict";var t=$("#choix option:selected").val();$("#valajax").show(),$.ajax({url:"modeles/ajax/observatoire/misejourliste.php",type:"POST",dataType:"json",data:{sel:t},success:function(t){"Oui"==t.statut?($("#valajax").hide(),$("#mes").html('<div class="alert alert-success" role="alert">La table liste du schéma référentiel a été reconstruite en fonction de vos modification</div>')):($("#mes").html(t.mes),$("#valajax").hide())}})}),$("#tab").on("click","#Bttnon",function(){"use strict";$("#dia2").modal("show")}),$("#bttdia2").click(function(){"use strict";npresent()}),$("#tab").on("change",".nomvern",function(){"use strict";var t=$(this).parent().parent().attr("id"),e=$(this).val(),a=$("#choix option:selected").val();$("#valajax").show(),$.ajax({url:"modeles/ajax/observatoire/nomvern.php",type:"POST",dataType:"json",data:{sel:a,id:t,vern:e},success:function(t){"Oui"==t.statut?($("#valajax").hide(),$("#mes").html("")):($("#mes").html(t.mes),$("#valajax").hide())}})});