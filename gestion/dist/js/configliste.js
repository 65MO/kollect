function aide(){"use strict";$(this).hasClass("btn btn-info")?($(this).removeClass("btn-info").addClass("btn btn-success"),$("#btn-aide-txt",this).text("Cacher"),$("#infoaide").show()):($(this).removeClass("btn-success").addClass("btn-info"),$("#btn-aide-txt",this).text("Aide"),$("#infoaide").hide())}function groupeliste(e){$("#valajax").show(),$.ajax({url:"modeles/ajax/observatoire/groupeliste.php",type:"POST",dataType:"json",data:{sel:e},success:function(e){"Oui"==e.statut?($("#valajax").hide(),$("#mes").html(""),$("#tab").html(e.tab),$("#sisfm").val(e.sbfm)):($("#tab").html(""),$("#mes").html(e.mes),$("#valajax").hide())}})}function modlocale(e,t,a){"use strict";var s=$("#choix option:selected").val(),i=$("#sisfm").val();$("html").css("cursor","Wait"),$.ajax({url:"modeles/ajax/observatoire/modlocale.php",type:"POST",dataType:"json",data:{sel:s,id:t,rang:a,coche:e,sfm:i},success:function(e){"Oui"==e.statut?($("html").css("cursor","default"),$("#mes").html("")):($("#mes").html(e.mes),$("html").css("cursor","default"),$("html, body").animate({scrollTop:0},"slow"))}})}function sup(e,t){"use strict";"FM"==t&&($("#c"+e).css("color","red"),$("#"+e+" > ul").css("color","red")),$("#"+e+" > li").css("color","red");var a=$("#souvenir1").val();"non"==a?($("#rang").val(t),$("#idsup").val(e),$("#dia1").modal("show")):suppression(e,t)}function suppression(e,t){"use strict";var a=$("#choix option:selected").val();$("html").css("cursor","Wait"),$.ajax({url:"modeles/ajax/observatoire/suptaxon.php",type:"POST",dataType:"json",data:{sel:a,id:e,rang:t},success:function(a){"Oui"==a.statut?($("html").css("cursor","default"),$("#mes").html(""),"FM"==t&&($("#c"+e).remove(),$("#"+e+" > ul").remove()),$("#"+e+" > li").remove()):($("#mes").html(a.mes),$("html").css("cursor","default"),$("html, body").animate({scrollTop:0},"slow"))}})}function npresent(){"use strict";var e=$("#choix option:selected").val();$("#valajax").show(),$.ajax({url:"modeles/ajax/observatoire/listenonlocale.php",type:"POST",dataType:"json",data:{sel:e},success:function(t){"Oui"==t.statut?($("#valajax").hide(),groupeliste(e)):($("#mes").html(t.mes),$("#valajax").hide())}})}$(document).ready(function(){"use strict";$("#valajax").hide(),$("#aide").on("click",aide),$("#infoaide").hide()}),$("#choix").change(function(){"use strict";var e=$("#choix option:selected").val();"NR"!=e?groupeliste(e):($("#tab").html(""),$("#mes").html(""))}),$("#souvenir").change(function(){"use strict";var e=$(this).is(":checked")?"oui":"non";$("#souvenir1").val(e)}),$("#tab").on("change",".sel",function(){"use strict";var e=$(this).is(":checked")?"oui":"non",t=this.id,a=t.split("-"),s=a[0],i=a[1];if("oui"==e){if("SSES"==s){var o=$("#"+i).parent().parent().attr("id"),c=$("#"+i).parent().parent().parent().parent().attr("id"),r=$("#"+i).parent().parent().parent().parent().parent().parent().attr("id");$("#ES-"+o).prop("checked",!0),$("#GN-"+c).prop("checked",!0),r&&$("#SBFM-"+r).prop("checked",!0)}if("ES"==s){var c=$("#"+i).parent().parent().attr("id"),r=$("#"+i).parent().parent().parent().parent().attr("id");$("#GN-"+c).prop("checked",!0),r&&$("#SBFM-"+r).prop("checked",!0)}if("GN"==s){var r=$("#"+i).parent().parent().attr("id");r&&$("#SBFM-"+r).prop("checked",!0),$("#"+i).find(":checkbox").prop("checked",!0)}"SBFM"==s&&$("#"+i).find(":checkbox").prop("checked",!0),"FM"==s&&$("#"+i).find(":checkbox").prop("checked",!0)}else $("#"+i).find(":checkbox").prop("checked",!1);modlocale(e,i,s)}),$("#bttdia1").click(function(){"use strict";var e=$("#rang").val(),t=$("#idsup").val();suppression(t,e)}),$("#BttV").click(function(){"use strict";var e=$("#choix option:selected").val();$("#valajax").show(),$.ajax({url:"modeles/ajax/observatoire/misejourliste.php",type:"POST",dataType:"json",data:{sel:e},success:function(e){"Oui"==e.statut?($("#valajax").hide(),$("#mes").html('<div class="alert alert-success" role="alert">La table liste du schéma référentiel a été reconstruite en fonction de vos modification</div>')):($("#mes").html(e.mes),$("#valajax").hide())}})}),$("#tab").on("click","#Bttnon",function(){"use strict";$("#dia2").modal("show")}),$("#bttdia2").click(function(){"use strict";npresent()});